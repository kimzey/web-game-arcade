graph TD
    A[User Decision] --> B{Assumption}
    B --> C[Design Choice]
    B --> D[Implementation]
    B --> E[Limitation]
    B --> F[Risk Mitigation]
```

## ข้อสมมติฐานเกี่ยวกับผู้ใช้ (User Assumptions)

### 1. ความเข้าใจเทคโนโลยีพื้นฐาน
**สมมติฐาน:** ผู้ใช้มีความคุ้นเคยกับการใช้งานเว็บเบราว์เซอร์และระบบคัดลอก/วางข้อความ

**ผลกระทบ:**
- ออกแบบระบบเชิญผ่านรหัสที่ต้องคัดลอกและส่งผ่านช่องทางอื่น (chat, email)
- ไม่ต้องสร้างระบบเชิญที่ซับซ้อน (deep linking, QR code)

**ความเสี่ยง:**
- ผู้ใช้บางรายอาจพบความยากในการใช้รหัสเชิญ
- อาจทำให้มีผู้ใช้ลดลง

**วิธีจัดการ:**
- เพิ่มการคัดลอกอัตโนมัติเมื่อสร้างห้อง
- แสดงคำแนะนำแบบ step-by-step
- พิจารณาเพิ่มวิธีเชิญทางเลือกในอนาคต

### 2. อุปกรณ์ที่ใช้
**สมมติฐาน:** ผู้ใช้ใช้คอมพิวเตอร์เดสก์ท็อปหรือแล็ปท็อปที่มีคีย์บอร์ดสำหรับเล่นเกม

**ผลกระทบ:**
- ออกแบบการควบคุมเกมหลักด้วยคีย์บอร์ด
- UI ขนาดใหญ่ที่เหมาะกับหน้าจอคอมพิวเตอร์

**ความเสี่ยง:**
- ผู้ใช้ที่ใช้มือถืออาจมีประสบการณ์ที่ไม่ดี
- การเล่นบนแท็บเล็ตอาจไม่สะดวก

**วิธีจัดการ:**
- เพิ่มการควบคุมแบบ touch แต่ยังไม่ใช่งานหลัก
- พิจารณารองรับ orientation ต่างๆ ในอนาคต

### 3. ความเข้าใจเกมแบบ co-op
**สมมติฐาน:** ผู้ใช้เข้าใจหลักการของเกมแบบ co-operative และวัตถุประสงค์คือการทำงานร่วมกัน

**ผลกระทบ:**
- ไม่ต้องอธิบายหลักการพื้นฐานของการเล่นร่วมมืออย่างละเอียด
- โฟกัสที่การอธิบายกฎเกมเฉพาะของแต่ละเกม

**ความเสี่ยง:**
- ผู้ใช้ใหม่อาจสับสนกับวัตถุประสงค์ของเกม
- อาจมีผู้เล่นแข่งกันแทนที่จะร่วมมือ

**วิธีจัดการ:**
- เพิ่มคำอธิบายสั้นๆ ในแต่ละเกมเกี่ยวกับการทำงานร่วมกัน
- พิจารณาเพิ่ม tutorial หรือ hints ในเกม

## ข้อสมมติฐานทางเทคนิค (Technical Assumptions)

### 1. ความสามารถของเบราว์เซอร์
**สมมติฐาน:** เบราว์เซอร์สมัยใหม่ที่ผู้ใช้ส่วนใหญ่ใช้รองรับ WebRTC API และสามารถสร้างการเชื่อมต่อ P2P ได้

**ผลกระทบ:**
- ใช้ WebRTC เป็นเทคโนโลยีหลักสำหรับการเชื่อมต่อ
- ไม่ต้องมี fallback สำหรับการเชื่อมต่อแบบอื่น

**ความเสี่ยง:**
- บางเบราว์เซอร์เก่าอาจไม่รองรับ WebRTC
- สภาพแวดล้อมบางอย่าง (corporate firewall) อาจบล็อกการเชื่อมต่อ P2P

**วิธีจัดการ:**
- ตรวจสอบความสามารถของเบราว์เซอร์ก่อนเริ่ม
- แสดงข้อความแจ้งเตือนหากไม่รองรับ
- พิจารณาเพิ่ม fallback mechanism ในอนาคต

### 2. ความเสถียรของการเชื่อมต่ออินเทอร์เน็ต
**สมมติฐาน:** ผู้ใช้มีการเชื่อมต่ออินเทอร์เน็ตที่เสถียรพอสำหรับเล่นเกมแบบ real-time

**ผลกระทบ:**
- ไม่มีระบบจัดการความล่าช้า (lag compensation) ที่ซับซ้อน
- อาศัยการเชื่อมต่อโดยตรงระหว่างผู้เล่น

**ความเสี่ยง:**
- การเชื่อมต่อที่ไม่เสถียรอาจทำให้เกมเล่นได้ไม่ดี
- ประสบการณ์ของผู้ใช้อาจแย่ลงหากมีความล่าช้าสูง

**วิธีจัดการ:**
- แสดงสถานะความเสถียรของการเชื่อมต่อ
- พิจารณาเพิ่มระบบ prediction และ reconciliation ในอนาคต

### 3. ประสิทธิภาพของอุปกรณ์
**สมมติฐาน:** อุปกรณ์ของผู้ใช้มีประสิทธิภาพเพียงพอสำหรับรันเกมแบบ real-time ในเบราว์เซอร์

**ผลกระทบ:**
- ใช้ Canvas API สำหรับ rendering เกม
- ไม่ต้องมีตัวเลือกลดคุณภาพกราฟิก

**ความเสี่ยง:**
- อุปกรณ์รุ่นเก่าอาจทำงานช้าหรือกระตุก
- อาจใช้พลังงานมากบนอุปกรณ์พกพา

**วิธีจัดการ:**
- ตรวจสอบประสิทธิภาพของอุปกรณ์
- พิจารณาเพิ่มตัวเลือกลดคุณภาพกราฟิกในอนาคต

## ข้อจำกัดและการแลกเปลี่ยน (Limitations and Trade-offs)

### 1. สถาปัตยกรรมแบบ P2P ล้วน
**ข้อจำกัด:** ไม่มีเซิร์ฟเวอร์กลางทำให้:
- ไม่สามารถจัดเก็บข้อมูลผู้ใช้หรือคะแนนถาวร
- ไม่สามารถมีระบบ matchmaking อัตโนมัติ
- การเชื่อมต่ออาจล้มเหลวในบางสถานการณ์เครือข่าย

**การแลกเปลี่ยน:**
- ลดความซับซ้อนของระบบและต้นทุนการดำเนินงาน
- ไม่ต้องจัดการข้อมูลส่วนตัวของผู้ใช้
- ความเร็วในการเชื่อมต่อที่เร็วขึ้น (direct connection)

### 2. ภาษาไทยเป็นหลัก
**ข้อจำกัด:** การใช้ภาษาไทยเป็นหลักทำให้:
- ผู้ใช้ที่ไม่ใช่คนไทยอาจเข้าใจยาก
- การเพิ่มภาษาอื่นในภายหลังต้องทำการแปลทั้งระบบ

**การแลกเปลี่ยน:**
- มุ่งเป้าหมายไปที่กลุ่มผู้ใช้ที่ชัดเจน (คนไทย)
- ลดความซับซ้อนในการออกแบบ UI สำหรับหลายภาษา
- ประสบการณ์ผู้ใช้ที่ดีขึ้นสำหรับกลุ่มเป้าหมาย

### 3. เกมที่เน้นการร่วมมือ
**ข้อจำกัด:** การมีเกมแค่ 3 เกมที่เน้นการร่วมมือ:
- อาจไม่ตอบโจทย์ผู้ที่ชอบการแข่งขัน
- ความหลากหลายของเกมจำกัด

**การแลกเปลี่ยน:**
- โฟกัสทำเกมที่มีคุณภาพสูง
- ลดความซับซ้อนของระบบ
- เสริมสร้างภาพลักษณ์ที่ชัดเจนของโปรเจกต์

## ปัญหาระดับสูงที่ต้องแก้ไขโดยเร่งด่วน (Critical Issues Requiring Immediate Attention)

### 1. ระบบ P2P ไม่สามารถใช้งานได้ (P2P System Non-functional)
**ปัญหา:** ระบบเชื่อมต่อ P2P ปัจจุบันใช้งานไม่ได้ในสถานการณ์จริง
**สาเหตุที่เป็นไปได้:**
- การจัดการ ICE candidates ไม่ถูกต้อง
- การตั้งค่า WebRTC ไม่เหมาะสมกับสภาพแวดล้อมต่างๆ
- ข้อผิดพลาดในการส่งข้อมูลระหว่าง peers
- ปัญหา NAT traversal ในหลายเครือข่าย

**ผลกระทบ:**
- ผู้ใช้ไม่สามารถเล่นเกมแบบ multiplayer ได้
- ฟีเจอร์หลักของโปรเจกต์ใช้งานไม่ได้

**วิธีจัดการ:**
- แก้ไขโค้ดใน `lib/p2p-connection.ts` เพื่อจัดการ ICE candidates อย่างถูกต้อง
- เพิ่ม logging ที่ละเอียดขึ้นสำหรับ debugging
- ทดสอบในสถานการณ์เครือข่ายต่างๆ (ต่าง ISP, ต่างประเทศ)
- พิจารณาใช้ WebRTC libraries ที่มีการพัฒนาแล้วเช่น `simple-peer`

### 2. UI ไม่เหมาะสมกับอุปกรณ์มือถือ (Mobile UI Incompatibility)
**ปัญหา:** UI ปัจจุบันไม่เหมาะสมกับการใช้งานบนอุปกรณ์มือถือ ทำให้เล่นเกมได้ยาก
**สาเหตุที่เป็นไปได้:**
- ขนาด UI elements ไม่เหมาะกับหน้าจอเล็ก
- การควบคุมเกมออกแบบมาสำหรับคีย์บอร์ดเท่านั้น
- ไม่มีปุ่ม reset สำหรับอุปกรณ์ทัชสกรีน
- การวาง Layout ไม่รองรับหน้าจอแนวตั้ง

**ผลกระทบ:**
- ผู้ใช้มือถือไม่สามารถเล่นเกมได้อย่างสมบูรณ์
- ประสบการณ์ผู้ใช้แย่ลงบนอุปกรณ์พกพา
- ปุ่ม reset ไม่สามารถกดได้บนอุปกรณ์ทัชสกรีน

**วิธีจัดการ:**
- ปรับขนาดและตำแหน่ง UI elements ให้เหมาะกับหน้าจอเล็ก
- เพิ่มปุ่มควบคุมแบบ touch screen สำหรับเกมทุกเกม
- เพิ่มปุ่ม reset ที่มองเห็นและกดได้บนอุปกรณ์ทัชสกรีน
- พิจารณาวาง Layout แบบ responsive ที่รองรับทั้งแนวนอนและแนวตั้ง
- เพิ่มการตรวจสอบประเภทอุปกรณ์และแสดง UI ที่เหมาะสม

## การตัดสินใจที่อาจต้องพิจารณาใหม่ในอนาคต

1. **การสนับสนุนภาษาอื่น:** เมื่อขยายผู้ใช้ไปนอกประเทศไทย
2. **การเพิ่มระบบเซิร์ฟเวอร์:** เพื่อรองรับฟีเจอร์ขั้นสูง เช่น บันทึกคะแนน, matchmaking
3. **รองรับอุปกรณ์พกพา:** เมื่อพบว่ามีผู้ใช้จากมือถือเพิ่มขึ้น
4. **การเพิ่มโหมดการแข่งขัน:** เพื่อตอบโจทย์ผู้ที่ชอบความท้าทาย

## Definition of Done (DoD)

- ✅ ระบุสมมติฐานที่ใช้ในการตัดสินใจออกแบบและพัฒนา
- ✅ อธิบายข้อจำกัดและการแลกเปลี่ยนที่เกิดขึ้นจากสมมติฐาน
- ✅ วิเคราะห์ความเสี่ยงและวิธีจัดการ
- ✅ ระบุการตัดสินใจที่อาจต้องพิจารณาใหม่ในอนาคต
- ✅ จัดหมวดหมู่สมมติฐานอย่างชัดเจน (ผู้ใช้, เทคนิค)

## Acceptance Criteria

- ✅ สมาชิกทีมเข้าใจสมมติฐานที่อยู่เบื้องหลังการตัดสินใจ
- ✅ มีข้อมูลเพียงพอสำหรับการประเมินผลกระทบของการเปลี่ยนแปลงในอนาคต
- ✅ ช่วยในการวางแผนสำหรับการจัดการความเสี่ยง
- ✅ ช่วยให้การสื่อสารภายในทีมเข้าใจเหตุผลเบื้องหลังการตัดสินใจ
- ✅ สามารถใช้เป็นข้อมูลอ้างอิงเมื่อต้องพิจารณาการเปลี่ยนแปลงทางธุรกิจหรือเทคนิค