
```# ข้อบังคับและแนวทางปฏิบัติ (Rules & Guidelines)

เอกสารนี้กำหนดข้อบังคับและแนวทางที่ต้องปฏิบัติตามในการพัฒนาโปรเจกต์ Co-op Arcade ทั้งในด้านทีมงาน เทคนิค และการรีวิวโค้ด

## ข้อบังคับทีมงาน (Team Rules)

### การสื่อสาร
- ใช้ภาษาไทยในการสื่อสารภายในทีม
- ใช้ภาษาอังกฤษสำหรับชื่อตัวแปร ฟังก์ชัน และคอมเมนต์ในโค้ด
- ประชุมทีมทุกวันจันทร์และวันศุกร์เพื่ออัปเดตความคืบหน้า
- รายงานปัญหาและอุปสรรคโดยเร็วที่สุด

### การจัดการงาน
- ไม่ทำงานซ้ำซ้อนกับทีมเมทอื่น ต้องประสานงานกันก่อน
- แจ้งล่วงหน้าหากจะขออนุมัติเปลี่ยนแปลงโครงสร้างหลัก
- จัดลำดับความสำคัญของงานตาม Phase ที่กำหนด
- ทุก task ต้องมี deadline ที่ชัดเจน

### การบันทึกเวลา
- บันทึกเวลาทำงานสำหรับแต่ละ task
- รายงานความคืบหน้าตามเป้าหมายที่กำหนด
- แจ้งทีมหากพบว่าจะใช้เวลามากกว่าที่คาดไว้

## ข้อบังคับเทคนิค (Technical Rules)

### การเขียนโค้ด
- ทุก component ต้องเป็น functional component ในรูปแบบ TypeScript
- ใช้ hooks แทน class components
- ไม่ใช้ `any` type ยกเว้นกรณีจำเป็นจริงๆ และต้องมีคอมเมนต์อธิบาย
- จัดรูปแบบโค้ดตาม Prettier config ที่กำหนด
- ใช้ ESLint และแก้ไขทุก warning ก่อน commit

### การจัดการสถานะ (State Management)
- ใช้ Zustand สำหรับ global state
- เก็บ state ใกล้ที่ที่ใช้มากที่สุด (local state เมื่อเป็นไปได้)
- หลีกเลี่ยง prop drilling โดยใช้ context หรือ Zustand
- ใช้ React Query สำหรับการจัดการ server state (ถ้ามี)

### การจัดการข้อมูลแบบ P2P
- ใช้ WebRTC API สำหรับการเชื่อมต่อแบบ peer-to-peer
- จัดการ error และ connection state อย่างรอบคอบ
- ใช้ JSON schema สำหรับการส่งข้อมูลระหว่างผู้เล่น
- สร้าง retry mechanism เมื่อการเชื่อมต่อล้มเหลว

### การทดสอบ
- ทดสอบทุก function ที่มีความสำคัญกับ game logic
- ใช้ React Testing Library สำหรับ component testing
- ทดสอบ UI/UX บน browser หลักทั้งหมด (Chrome, Firefox, Safari)
- ทดสอบการเชื่อมต่อ P2P ในสถานการณ์ต่างๆ (slow network, firewall, etc.)

## ข้อบังคับการรีวิว (Review Rules)

### การรีวิวโค้ด
- ทุก PR ต้องมีอย่างน้อย 1 คนอนุมัติก่อน merge
- Reviewer ต้องตรวจสอบทั้งฟังก์ชันการทำงาน ความปลอดภัย และประสิทธิภาพ
- ใช้ GitHub's "Request changes" สำหรับการแก้ไขที่จำเป็น
- คอมเมนต์ต้องเป็นประโยชน์และสร้างสรรค์

### การทดสอบก่อนรีวิว
- ตรวจสอบว่าทุก test ผ่าน
- ตรวจสอบว่าไม่มี ESLint warning
- ทดสอบฟังก์ชันการทำงานด้วยตนเอง
- ตรวจสอบว่าไม่ทำให้ build พัง

### ขนาด PR
- แบ่งงานเป็น PR เล็กๆ ที่จัดการได้ใน 30 นาที
- หลีกเลี่ยงการรวมหลายฟีเจอร์ใน PR เดียว
- สำหรับการเปลี่ยนแปลงโครงสร้างขนาดใหญ่ แบ่งเป็นหลาย PR
- ทุก PR ต้องมี description และ testing steps ที่ชัดเจน

## ข้อห้าม (Prohibitions)

### ที่ต้องห้ามอย่างเคร่งครัด
- ไม่ commit ไฟล์ที่มีข้อมูลส่วนตัว (API keys, credentials)
- ไม่ push โค้ดที่ยังไม่ผ่านการทดสอบ
- ไม่ใช้ libraries ที่ไม่จำเป็นโดยไม่ได้รับการอนุมัติ
- ไม่เปลี่ยนแปลง API contract โดยไม่แจ้งทีม
- ไม่ merge โค้ดโดยไม่ผ่านการรีวิว (ยกเว้น fix กรณีฉุกเฉิน)

### ที่ควรหลีกเลี่ยง
- การใช้ inline styles ใน JSX (ยกเว้นสำหรับ dynamic values)
- การสร้าง components ขนาดใหญ่ที่ทำหลายหน้าที่
- การใช้ useEffect โดยไม่มี dependencies array ที่เหมาะสม
- การฝัง business logic ไว้ใน UI components
- การใช้ `console.log` ใน production code

## แนวทางการตัดสินใจ (Decision Guidelines)

### เมื่อเผชิญปัญหาที่ไม่ได้กำหนดไว้
1. ปรึกษาทีมก่อนตัดสินใจ
2. พิจารณาว่ามีผลกระทบต่อผู้ใช้อย่างไร
3. คำนึงถึง scalability และ maintainability
4. บันทึกเหตุผลและตัวเลือกอื่นๆ

### การเลือกเทคโนโลยี
- ใช้เทคโนโลยีที่มีคนใช้มากและมี community สนับสนุน
- พิจารณา learning curve ของทีม
- หลีกเลี่ยงเทคโนโลยีที่อาจทำให้โปรเจกต์มีความซับซ้อนเกินไป
- ให้ความสำคัญกับความเข้ากันได้กับ browser หลัก

## Definition of Done (DoD)

- ✅ ครอบคลุมข้อบังคับทั้งหมด (ทีม เทคนิค และรีวิว)
- ✅ มีตัวอย่างและข้อความที่เข้าใจง่าย
- ✅ ระบุข้อห้ามและสิ่งที่ควรหลีกเลี่ยงอย่างชัดเจน
- ✅ ให้แนวทางการตัดสินใจเมื่อเผชิญสถานการณ์ที่ไม่ได้กำหนด
- ✅ สามารถนำไปปรับใช้ได้จริงในทีมงาน

## Acceptance Criteria

- ✅ สมาชิกทุกคนในทีมเข้าใจและตกลงปฏิบัติตามได้
- ✅ มีแนวทางที่ชัดเจนสำหรับการแก้ปัญหาที่ไม่ได้กำหนดไว้
- ✅ ลดความขัดแย้งและความไม่เข้าใจในทีมได้
- ✅ สร้างมาตรฐานที่ชัดเจนสำหรับคุณภาพโค้ดและการรีวิว
- ✅ ช่วยให้โปรเจกต์มีความสม่ำเสมอและเป็นไปในทิศทางเดียวกัน
